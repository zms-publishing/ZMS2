<?xml version="1.0" encoding="utf-8"?>
<dictionary>
<item key="dtml"><![CDATA[<!-- BO bodyContentZMSCustom_multiFileUpload -->

<dtml-var "getObjProperty('actionDelete',REQUEST)">
<dtml-var "getObjProperty('actionUpload',REQUEST)">

<form method="post" enctype="multipart/form-data">

<table>
<tr>
 <td colspan="2">
  <b><dtml-var "_.len(getObjChildren('files',REQUEST))"> <dtml-var "getLangStr('ATTR_RECORDS',lang)"></b>
 </td>
</tr>
<dtml-in "getObjChildren('files',REQUEST)">
 <dtml-let file="getFile(REQUEST)">
  <tr>
   <td><input type="checkbox" name="ids:list" value="<dtml-var id>"/></td>
   <td><a href="<dtml-var "file.getHref(REQUEST)">" target="_blank"><img src="<dtml-var "file.getMimeTypeIconSrc()">" title="<dtml-var "file.getContentType()">" border="0" align="absmiddle"/><dtml-var "file.getFilename()"> (<i><dtml-var "file.getDataSizeStr()"></i>)</a></td>
  </tr>
 </dtml-let>
 <dtml-if sequence-end>
  <tr>
   <td colspan="2">
    <input type="submit" name="btn" value="<dtml-var "getLangStr('BTN_DELETE',lang)">"/>
   </td>
  </tr>
 </dtml-if>
</dtml-in>
</table>

<table>
<tr>
 <th><dtml-var "getLangStr('ATTR_FILE',lang)">:</th>
 <td><input type="file" name="upload"/></td>
<tr>
<tr>
 <td></td>
 <td><input type="submit" name="btn" value="<dtml-var "getLangStr('BTN_INSERT',lang)">"/></td>
</tr>
</table>

</form>

<!-- EO bodyContentZMSCustom_multiFileUpload -->
]]></item>
<item key="enabled" type="int">1</item>
<item key="key"><![CDATA[multiFileUpload]]></item>
<item key="value" type="dictionary"><dictionary>
<item key="__obj_attrs__" type="list"><list>
<item type="dictionary"><dictionary>
<item key="custom"></item>
<item key="default"></item>
<item key="id"><![CDATA[files]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">0</item>
<item key="name"><![CDATA[File]]></item>
<item key="repetitive" type="int">1</item>
<item key="type"><![CDATA[ZMSFile]]></item>
</dictionary>
</item>
<item type="dictionary"><dictionary>
<item key="custom"><![CDATA[<!--// BO actionDelete //-->

<dtml-if "REQUEST.get('btn')==getLangStr('ACTION_DELETE',lang)">
 <dtml-if "REQUEST.get('ids')">
  <dtml-let count="_.len(REQUEST.get('ids'))">
   <dtml-call "manage_delObjects(ids=REQUEST.get('ids'))">
   <div class="system-msg"><dtml-var "getLangStr('MSG_DELETED',lang)%count"></div>
  </dtml-let>
 </dtml-if>
</dtml-if>

<!--// EO actionDelete //-->
]]></item>
<item key="default"></item>
<item key="id"><![CDATA[actionDelete]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">0</item>
<item key="name"><![CDATA[Action: Delete]]></item>
<item key="repetitive" type="int">0</item>
<item key="type"><![CDATA[method]]></item>
</dictionary>
</item>
<item type="dictionary"><dictionary>
<item key="custom"><![CDATA[<!--// BO actionUpload //-->

<dtml-if "REQUEST.get('btn')==getLangStr('BTN_INSERT',lang)">
 <dtml-if "REQUEST.get('upload')">
  <dtml-call "manage_addZMSFile({'id_prefix':'files','file':{'data':REQUEST.get('upload'),'filename':REQUEST.get('upload').filename}},REQUEST)">
  <div class="system-msg"><dtml-var "getLangStr('MSG_INSERTED',lang)%REQUEST.get('upload').filename"></div>
 </dtml-if>
</dtml-if>

<!--// EO actionUpload //-->
]]></item>
<item key="default"></item>
<item key="id"><![CDATA[actionUpload]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">0</item>
<item key="name"><![CDATA[Action: Upload]]></item>
<item key="repetitive" type="int">0</item>
<item key="type"><![CDATA[method]]></item>
</dictionary>
</item>
</list>
</item>
<item key="access" type="dictionary"><dictionary>
<item key="edit" type="list"><list>
<item><![CDATA[ZMSAdministrator]]></item>
<item><![CDATA[ZMSAuthor]]></item>
<item><![CDATA[ZMSEditor]]></item>
</list>
</item>
<item key="insert" type="list"><list>
<item><![CDATA[ZMSAdministrator]]></item>
<item><![CDATA[ZMSAuthor]]></item>
<item><![CDATA[ZMSEditor]]></item>
</list>
</item>
</dictionary>
</item>
<item key="acquired" type="int">0</item>
<item key="name"><![CDATA[Multi-File Upload]]></item>
<item key="package"></item>
<item key="type"><![CDATA[ZMSObject]]></item>
</dictionary>
</item>
</dictionary>
